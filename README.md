# 炊紙 kashikishi

炊紙は三次元空間上でテキストを編集できるテキストエディタです。「かしきし」と発音します。

Rust & WebGPU(wgpu) で開発されてます。

> [!WARNING]
> このソフトウェアは現在開発中のため破壊的な仕様変更が随時入ります。

## モチベーション

世のテキスト編集は未だに貧相なユーザーインタフェイスを引きずったままです。  
例えば "A" というキーを押せば何のインタラクションもなく "A" という文字が突如画面に登場し、"Delete" を押せば瞬く間に消え去ってしまいます。  
カーソルは画面の右端に消えたかと思えばいきなり左端に登場します。

このAR/VR時代、文字列という一次元のバイト列がいつまでも紙の時代を踏襲して二次元空間にレイアウトされ、貧しいインタラクションで表現される前提ではいけません。  
文章は三次元空間上に自由に、滑らかにレイアウトされるべきでしょう。(確たる根拠なし)

炊紙ではこのような考え方に基づき、三次元空間上でテキストを編集するユーザーインタフェイスの価値検証を目的に開発されています。

## 特徴

炊紙は内部的に三次元空間上にテキストを配置しているため以下のような特徴を備えています。

### 文書編集の各種操作が滑らか

フォントの描画を GPU 側で行い、イージング関数に基づいたアニメーションを行い既存のテキストエディタにはない滑らかな編集体験を実現しています。

2024年時点の PC であれば多くの環境で 60fps で動作する見込みです。

![文字入力](doc/assets/input-text.gif)

### 拡大縮小、文字・行間の調整がシームレス

フォントをベクタグラフィックとして扱っているため、拡大縮小が滑らかです。  
また、文字間・行間の変更をテキスト編集にとって第一級の操作と考えているため、編集中にシームレスに調整できます。 

![ベクターグラフィックでスムース](doc/assets/vector-smooth.gif)

### 縦書きができる

日本語は縦書きが基本ですが、十分に縦書きに対応したテキストエディタは多くはありません。  
しかし、文章は縦に見たり横に見たり、レイアウトを柔軟に変えて読み直すことで深い洞察を得ることができます。  
炊紙では文書編集中に縦書き、横書きを即座に切り替えられます。

![縦書き](doc/assets/tate-yoko.gif)

### 箇条書き

箇条書きを入力すると自動的にインデントが付きます。  
これは単に私の文章編集上の好みに過ぎません。

![箇条書き](doc/assets/kajo-gaki.gif)

### (実験的)サイケデリックモード

投げやりな気分の時にはサイケデリックモードを有効にしてみてください。

![サイケデリックモード](doc/assets/psychedelic-mode.gif)

### (実験的)ARモード

[Rokid Max](https://jp.rokid.com/products/rokid-max) という AR デバイスを所有していて Windows を利用している場合に限り、AR モードを有効にできます。  
ヘッドトラッキングにより、より三次元空間を活かしたテキスト編集体験ができます。

![ARモード](doc/assets/ar-mode.gif)

### Emacs like なキーバインド

炊紙は Emacs のキーバインドをベースにしています。  
これは非常に深い思索・検討の末に至った合理的理由がありますがドキュメント上は単に私の好みとしておきます。

## インストールやビルドの方法

> [!WARNING]
> 炊紙は現在 Windows でのみ動作を確認しています。  
> Linux や Mac ではビルドのみ行っていますが期待通り動作するかは確認・保障されていません。

### Releases からダウンロード

現在準備中です。

### cargo によるインストール

> [!NOTE]
> Windows でビルドを行う際、環境によっては 'error: linker `link.exe` not found' というエラーが表示されることがあります。  
> この場合 Build Tools for Visual Studio 2022 をインストールし、C++によるデスクトップ開発用のツールをインストールすることで多く環境で問題を解決できるでしょう。  
> https://visualstudio.microsoft.com/ja/downloads/

```sh
cargo install --git https://github.com/mitoma/kashiki2.git kashikishi
```

### リポジトリを clone して実行

```sh
git clone https://github.com/mitoma/kashiki2.git
cd kashiki2
cargo run --bin kashikishi --release
```

## ライセンス

炊紙は MIT ライセンスの下で公開されています。[ref](LICENSE)
